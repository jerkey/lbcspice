Version 4
SHEET 1 1420 680
WIRE 688 -160 448 -160
WIRE 768 -160 688 -160
WIRE 688 -144 688 -160
WIRE 768 -32 768 -96
WIRE 160 48 -160 48
WIRE 688 48 688 -80
WIRE -160 80 -160 48
WIRE 160 80 160 48
WIRE 448 128 320 128
WIRE 544 128 448 128
WIRE 320 160 320 128
WIRE -160 176 -160 160
WIRE 160 176 160 160
WIRE 272 176 160 176
WIRE 160 208 160 176
WIRE 448 208 448 192
WIRE -32 224 -208 224
WIRE 112 224 -32 224
WIRE 112 272 32 272
WIRE -208 304 -208 224
WIRE 32 304 32 272
WIRE 160 336 160 288
WIRE 32 400 32 384
FLAG 160 336 0
FLAG 32 400 0
FLAG -160 176 0
FLAG 320 128 gate
FLAG -32 224 ctrl
FLAG 448 -80 0
FLAG 448 208 0
FLAG 688 48 0
FLAG 768 128 0
FLAG -336 304 0
FLAG -208 384 0
SYMBOL sw 160 304 M180
SYMATTR InstName S2
SYMATTR Value comp
SYMBOL res 144 64 R0
SYMATTR InstName R1
SYMATTR Value 1e1
SYMBOL voltage 32 288 R0
WINDOW 3 -31 147 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE({Vlow} {Vhigh} 0 {Tr} {Tr} 0 {2*Tr})
SYMATTR InstName Vtriangle
SYMBOL battery -160 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vcc
SYMATTR Value 397
SYMBOL ind 752 -48 R0
SYMATTR InstName L1
SYMATTR Value 150µH
SYMBOL schottky 704 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 752 -160 R0
SYMATTR InstName C1
SYMATTR Value 970µF
SYMBOL voltage 448 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 400
SYMBOL res 752 32 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap 464 192 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 1nF
SYMBOL bv -336 208 R0
WINDOW 3 -29 56 Left 2
SYMATTR Value V=4.9*(1-abs(sin(6.282*60*time)))
SYMATTR InstName B1
SYMBOL voltage -208 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 4
TEXT -112 480 Left 2 !.model comp sw (ron=10 Roff=1e8 Vt=0 Vh=0.1)
TEXT 128 392 Left 2 !.param F=100k Tr={0.5/F} Vlow=-0.1 Vhigh=5
TEXT -120 24 Left 2 !.tran 0 .01 0 .0001 startup
TEXT 688 88 Left 2 !.include C2M0160120D - Packaged.lib
